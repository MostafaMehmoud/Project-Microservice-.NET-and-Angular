<!-- MAIN -->
<main class="container-fluid my-4">
  <div class="row g-4">
    <!-- SIDEBAR (static UI) -->
    <aside class="col-lg-3">
      <div class="card shadow-sm sticky-sidebar">
        <div class="card-header bg-white fw-semibold">
          <i class="fa fa-filter me-2"></i>Filters
        </div>
        <div class="card-body">
          <!-- Categories -->
          <div class="mb-3">
            <div class="d-flex justify-content-between align-items-center">
              <span class="facet-label"
                ><i class="fa fa-solid fa-tags me-2"></i>Brands</span
              >
            </div>
            @for(brand of  brands; track $index){
    <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="cat1"
              [checked]="specPrams.brandId===brand.id"
             [value]="brand.id"
             (change)="onBrandSelected(brand.id)"
              /><label class="form-check-label" for="cat1">{{brand.name}}</label>
            </div>
            }
        
           
          </div>

          <hr />

            <div class="mb-3">
            <div class="d-flex justify-content-between align-items-center">
              <span class="facet-label"
                ><i class="fa fa-solid fa-tags me-2"></i>Types</span
              >
            </div>
            @for (type of types; track $index) {
 <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="cat1"
                 [checked]="specPrams.typeId===type.id"
             [value]="type.id"
             (change)="onTypeSelected(type.id)"
              /><label class="form-check-label" for="cat1">{{type.name}}</label>
            </div>
            }
           
      
          </div>


          <button class="btn btn-outline-secondary w-100" type="button" (click)="onResetFilters()">
            <i class="fa-solid fa-arrow-rotate-left me-2"></i>Reset Filters
          </button>
        </div>
      </div>
    </aside>

    <!-- PRODUCTS (static cards) -->
    <section class="col-lg-9">
      <!-- Toolbar -->
      <div
        class="d-flex flex-wrap gap-2 justify-content-between align-items-center mb-2"
      >
      <div class="input-group search-pill">
          <span class="input-group-text"><i class="fa-solid fa-magnifying-glass"></i></span>
          <input class="form-control" #search (keyup)="onSearch()" type="search" placeholder="Search products, e.g. “sofa”, “lamp”, “rug”…">
          <button class="btn" type="button"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div class="text-muted">
          Showing <strong>{{specPrams.pageIndex*specPrams.pageSize>totalCount?totalCount:specPrams.pageIndex*specPrams.pageSize}}</strong> of <strong>{{totalCount}}</strong> results
        </div>
        <div class="d-flex gap-2">
          <select class="form-select" (change)="onSortSelected($event.target)">
            @for (option of sortOptions; track $index) 
            {
    <option [value]="option.value">{{option.name}}</option>
              
            }
          </select>
          <select class="form-select" (change)="onItemsPerPageSelected($event.target)">
            @for (option of itemPerPageOptions; track $index) 
            {
    <option [value]="option.value" >{{option.name}}</option>
              
            }
          </select>
        </div>
      </div>

      <!-- Grid -->
      <div class="row g-3">
        <!-- Repeatable static card pattern -->


        <!-- 7 more static examples -->
       @for (product of products; track product.id) {
    <div class="col-6 col-md-4 col-xl-3">
      <app-product-item [product]="product"></app-product-item>
    </div>
  }

    
      </div>

      <!-- Pagination (static) -->
      <div class="d-flex justify-content-between align-items-center mt-3">
   <nav class="d-flex justify-content-center mt-4">
  <ul class="pagination">

    <li class="page-item" [class.disabled]="pageIndex === 1">
      <a class="page-link" (click)="onPageChanged(pageIndex - 1)">«</a>
    </li>

    <li
      class="page-item"
      *ngFor="let p of [].constructor(totalPages); let i = index"
      [class.active]="pageIndex === i + 1"
    >
      <a class="page-link" (click)="onPageChanged(i + 1)">
        {{ i + 1 }}
      </a>
    </li>

    <li class="page-item" [class.disabled]="pageIndex === totalPages">
      <a class="page-link" (click)="onPageChanged(pageIndex + 1)">»</a>
    </li>

  </ul>
</nav>

  </div>
</section>
  </div>  
</main>
<!-- END MAIN -->




